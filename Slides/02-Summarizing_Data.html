<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Summarizing Data</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jason Bryer, Ph.D." />
    <meta name="date" content="2024-09-03" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/htmltools-fill/fill.css" rel="stylesheet" />
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <script src="libs/jquery/jquery-3.6.0.min.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.min.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/mtheme_max.css" type="text/css" />
    <link rel="stylesheet" href="assets/fonts_mtheme_max.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: center, middle, inverse, title-slide

# Summarizing Data
## Computational Mathematics and Statistics
### Jason Bryer, Ph.D.
### September 3, 2024


---
# One Minute Paper Results



.pull-left[
**What was the most important thing you learned during this class?**

]
.pull-right[
**What important question remains unanswered for you?**

]

---
# Familiarity with Statistical Topics &lt;img src="images/hex/likert.png" class="title-hex"&gt;&lt;img src="images/hex/googlesheets4.png" class="title-hex"&gt;






``` r
likert(stats.results) %&gt;% plot(center = 2.5)
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-5-1.png" style="display: block; margin: auto;" /&gt;

---
# Math Anxiety Survey Scale &lt;img src="images/hex/likert.png" class="title-hex"&gt;&lt;img src="images/hex/googlesheets4.png" class="title-hex"&gt;


``` r
likert(mass.results) %&gt;% plot()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-6-1.png" style="display: block; margin: auto;" /&gt;


---
class: font80
# About `legosets` &lt;img src="images/hex/brickset.png" class="title-hex"&gt;

To install the `brickset` package:


``` r
remotes::install_github('jbryer/brickset')
```

To load the load the `legosets` dataset.


``` r
data('legosets', package = 'brickset')
```

The `legosets` data has 19409 observations of 36 variables.

.code70[

``` r
names(legosets)
```

```
##  [1] "setID"                 "number"                "numberVariant"        
##  [4] "name"                  "year"                  "theme"                
##  [7] "themeGroup"            "subtheme"              "category"             
## [10] "released"              "pieces"                "minifigs"             
## [13] "bricksetURL"           "rating"                "reviewCount"          
## [16] "packagingType"         "availability"          "agerange_min"         
## [19] "thumbnailURL"          "imageURL"              "US_retailPrice"       
## [22] "US_dateFirstAvailable" "US_dateLastAvailable"  "UK_retailPrice"       
## [25] "UK_dateFirstAvailable" "UK_dateLastAvailable"  "CA_retailPrice"       
## [28] "CA_dateFirstAvailable" "CA_dateLastAvailable"  "DE_retailPrice"       
## [31] "DE_dateFirstAvailable" "DE_dateLastAvailable"  "height"               
## [34] "width"                 "depth"                 "weight"
```
]

---
# Structure (`str`) &lt;img src="images/hex/brickset.png" class="title-hex"&gt;

.code50[


``` r
str(legosets)
```

```
## 'data.frame':	19409 obs. of  36 variables:
##  $ setID                : int  7693 7695 7697 7698 25534 7418 7419 6020 22704 7421 ...
##  $ number               : chr  "1" "2" "3" "4" ...
##  $ numberVariant        : int  8 8 6 4 6 1 1 1 3 4 ...
##  $ name                 : chr  "Small house set" "Medium house set" "Medium house set" "Large house set" ...
##  $ year                 : int  1970 1970 1970 1970 1970 1970 1970 1970 1970 1970 ...
##  $ theme                : chr  "Minitalia" "Minitalia" "Minitalia" "Minitalia" ...
##  $ themeGroup           : chr  "Vintage" "Vintage" "Vintage" "Vintage" ...
##  $ subtheme             : chr  NA NA NA NA ...
##  $ category             : chr  "Normal" "Normal" "Normal" "Normal" ...
##  $ released             : logi  TRUE TRUE TRUE TRUE TRUE TRUE ...
##  $ pieces               : int  67 109 158 233 NA 1 1 60 65 NA ...
##  $ minifigs             : int  NA NA NA NA NA NA NA NA NA NA ...
##  $ bricksetURL          : chr  "https://brickset.com/sets/1-8" "https://brickset.com/sets/2-8" "https://brickset.com/sets/3-6" "https://brickset.com/sets/4-4" ...
##  $ rating               : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ reviewCount          : int  0 0 1 0 0 0 0 0 0 0 ...
##  $ packagingType        : chr  "{Not specified}" "{Not specified}" "{Not specified}" "{Not specified}" ...
##  $ availability         : chr  "{Not specified}" "{Not specified}" "{Not specified}" "{Not specified}" ...
##  $ agerange_min         : int  NA NA NA NA NA NA NA NA NA NA ...
##  $ thumbnailURL         : chr  "https://images.brickset.com/sets/small/1-8.jpg" "https://images.brickset.com/sets/small/2-8.jpg" "https://images.brickset.com/sets/small/3-6.jpg" "https://images.brickset.com/sets/small/4-4.jpg" ...
##  $ imageURL             : chr  "https://images.brickset.com/sets/images/1-8.jpg" "https://images.brickset.com/sets/images/2-8.jpg" "https://images.brickset.com/sets/images/3-6.jpg" "https://images.brickset.com/sets/images/4-4.jpg" ...
##  $ US_retailPrice       : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ US_dateFirstAvailable: Date, format: NA NA ...
##  $ US_dateLastAvailable : Date, format: NA NA ...
##  $ UK_retailPrice       : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ UK_dateFirstAvailable: Date, format: NA NA ...
##  $ UK_dateLastAvailable : Date, format: NA NA ...
##  $ CA_retailPrice       : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ CA_dateFirstAvailable: Date, format: NA NA ...
##  $ CA_dateLastAvailable : Date, format: NA NA ...
##  $ DE_retailPrice       : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ DE_dateFirstAvailable: Date, format: NA NA ...
##  $ DE_dateLastAvailable : Date, format: NA NA ...
##  $ height               : num  NA NA NA NA NA ...
##  $ width                : num  NA NA NA NA NA ...
##  $ depth                : num  NA NA NA NA NA NA NA NA 5.08 NA ...
##  $ weight               : num  NA NA NA NA NA NA NA NA NA NA ...
```

]

---
# RStudio Eenvironment tab can help &lt;img src="images/hex/rstudio.png" class="title-hex"&gt;

&lt;img src="images/legosets_rstudio_environment.png" width="500" style="display: block; margin: auto;" /&gt;

---
class: hide-logo
# Table View 

.font60[

<div class="datatables html-widget html-fill-item" id="htmlwidget-2ef0988db318752cf185" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2ef0988db318752cf185">{"x":{"filter":"none","vertical":false,"fillContainer":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100"],[32173,47195,28198,2058,4109,1612,48321,33978,31434,30034,4850,34531,4234,25873,32193,24773,2660,943,33856,34143,23037,29147,9500,24693,1401,3839,6110,28195,5951,48322,3665,33997,14049,32133,5461,9914,4853,45508,32022,9838,3552,2026,8978,8261,10308,906,9383,2841,47016,31343,7590,3559,31615,27414,26099,8866,1184,4348,9852,33778,29153,24332,30966,26740,26798,1681,8748,590,4419,8076,22727,6057,28577,2790,1938,7291,29520,29758,5492,23982,26686,6910,22541,23298,23670,9354,34227,7728,6883,33831,7446,227,8786,10280,27152,3482,29667,23629,24683,29007],["Batman","Disney 100 Years Celebration","Neville Longbottom","XL Bucket Red","Universal Pneumatic Set","Funny Lion","Twill Baseball Cap with AOP Print","Black Panther Keyring","Parking Garage and Car Wash","Jungle Rescue Base","Playhouse Set","Miguel Rivera","Red Maniac","Winter Fun","Wooden Wall Hanger Set Light Oak","Chevrolet Corvette Z06","Gear Racks, Gear Wheels and Pulley Wheels","Motorcycle","LEGO IDEAS Minifigure Space Mission Puzzle","Frankenstein's Monster","Friends 2x4 Key Light","Emma Buildable Watch","Harry Potter Minifigure Collection Gallery 3","Ocean Explorer","Contraption Set","Flying Dino","Toa Whenua Hat","Ron Weasley","Orange Brick Key Chain","Star Wars Mech 3-Pack","Planetary Decoder","2 Stud Storage Brick Black","Bonus/Value Pack","Chevrolet Camaro Z/28 1969","Nitro Intimidator","Fire Boat","Garage Set","Captain America's Shield","Mania Magazine July - August 1995","Bilbo Baggins ","Rescue-I Helicopter","Magnets, Medium Classic Set","Batwing Battle Over Gotham City","Police Station","The Battle of Helm's Deep","Farmyard","Ninjago Magnet Set","LEGO Racers","Modular Racers","Wheelie Stunt Bike","Duplo Deluxe Brick Box","Minifig Pack","Bandmates Series 2 - Complete","Wonder Woman","Clay Key Chain","Kendo Cole","Fire Engine","Nui-Jaga","Pirate","Ferrari Daytona SP3: The Sense of Perfection","Steamboat Willie","Party polybag","Spider Queen's Arachnoid Base","Modular Poolside Holiday","Jungle Mobile Lab","Fire Rescue","Bird","Pleasure Cruiser","Bordakh","Mariachi","Promotional Basic Set No. 6 (Kraft Velveeta)","Riddler Key Chain","Remote Control","Stacking Jungle Set","Motion Madness","Skrall","LEGO Minifigures - Series 19 - Complete","Elsa and Olaf's Tea Party","City Magnet Set","Porsche 911 GT Finish Line","The Beatles Yellow Submarine","Aerial Defense Unit","Medium Dino Bucket","Arctic Ice Crawler","X-wing Fighter","Lemonade Stand","Conservationist","Rally Raider","Basic Set, 3+","LEGO Minifigures - Series 23 {Random bag}","Bricks and half bricks and arches and trolley","Jones and Baby Tyranno","People","HH-87 Starhopper","Dance Instructor","Snow Scooter","Blizzard Samurai","The Ender Dragon","Ambulance Plane","Lucy Key Chain"],[2021,2023,2018,1998,1989,2003,2023,2022,2021,2020,2005,2023,2004,2015,2021,2016,1989,1998,2022,2022,2013,2019,2002,2016,1999,2004,2006,2018,2007,2023,1996,2022,2004,2022,2006,2013,2005,2023,1995,2012,1985,2003,2012,2011,2013,1991,2012,2000,2023,2021,2010,1991,2021,2018,2016,2012,1996,2001,2012,2022,2019,2015,2021,2017,2017,2002,2011,1994,2004,2010,1971,2007,2018,2004,2003,2010,2019,2020,2006,2015,2016,2009,1997,2014,2014,2012,2023,2010,1987,2022,1975,2000,1991,2013,2017,2000,2019,2014,2016,2019],["DC Comics Super Heroes","Disney","Collectable Minifigures","Freestyle","Technic","Explore","Gear","Gear","Duplo","Friends","Education","Collectable Minifigures","Racers","Friends","Gear","Speed Champions","Service Packs","Technic","Gear","Promotional","Gear","Gear","Harry Potter","Creator","Freestyle","Creator","Gear","Collectable Minifigures","Gear","Star Wars","Space","Gear","Creator","Icons","Racers","City","Education","Marvel Super Heroes","Books","The Hobbit","Town","Gear","DC Comics Super Heroes","Duplo","Games","Duplo","Gear","Gear","Miscellaneous","City","Duplo","Space","Vidiyo","BrickHeadz","Gear","Ninjago","Duplo","Bionicle","Promotional","Books","Ideas","Friends","Monkie Kid","Creator","City","Explore","Promotional","Town","Bionicle","Collectable Minifigures","Samsonite","Gear","Powered Up","Baby","Creator","Bionicle","Collectable Minifigures","Duplo","Gear","Speed Champions","Ideas","Agents","Duplo","City","Star Wars","Friends","Collectable Minifigures","Racers","Basic","Collectable Minifigures","Duplo","Adventurers","Dacta","Star Wars","Collectable Minifigures","Town","Ninjago","Minecraft","City","Gear"],["Licensed","Licensed","Miscellaneous","Basic","Technical","Pre-school","Miscellaneous","Miscellaneous","Pre-school","Modern day","Educational","Miscellaneous","Racing","Modern day","Miscellaneous","Licensed","Miscellaneous","Technical","Miscellaneous","Miscellaneous","Miscellaneous","Miscellaneous","Licensed","Model making","Basic","Model making","Miscellaneous","Miscellaneous","Miscellaneous","Licensed","Action/Adventure","Miscellaneous","Model making","Model making","Racing","Modern day","Educational","Licensed","Miscellaneous","Licensed","Modern day","Miscellaneous","Licensed","Pre-school","Miscellaneous","Pre-school","Miscellaneous","Miscellaneous","Miscellaneous","Modern day","Pre-school","Action/Adventure","Licensed","Licensed","Miscellaneous","Action/Adventure","Pre-school","Constraction","Miscellaneous","Miscellaneous","Miscellaneous","Modern day","Action/Adventure","Model making","Modern day","Pre-school","Miscellaneous","Modern day","Constraction","Miscellaneous","Vintage","Miscellaneous","Technical","Pre-school","Model making","Constraction","Miscellaneous","Pre-school","Miscellaneous","Licensed","Miscellaneous","Action/Adventure","Pre-school","Modern day","Licensed","Modern day","Miscellaneous","Racing","Basic","Miscellaneous","Pre-school","Historical","Educational","Licensed","Miscellaneous","Modern day","Action/Adventure","Licensed","Modern day","Miscellaneous"],["Other","Normal","Normal","Normal","Normal","Normal","Gear","Gear","Normal","Normal","Normal","Normal","Normal","Other","Gear","Normal","Normal","Normal","Gear","Extended","Gear","Gear","Other","Normal","Normal","Normal","Gear","Normal","Gear","Collection","Normal","Gear","Collection","Normal","Normal","Normal","Normal","Normal","Book","Other","Normal","Gear","Normal","Normal","Normal","Normal","Gear","Gear","Other","Normal","Normal","Normal","Collection","Normal","Gear","Normal","Normal","Normal","Other","Book","Normal","Extended","Normal","Normal","Normal","Normal","Other","Normal","Normal","Normal","Normal","Gear","Normal","Normal","Normal","Normal","Collection","Normal","Gear","Normal","Normal","Normal","Normal","Normal","Other","Other","Normal","Normal","Normal","Random","Normal","Normal","Normal","Normal","Normal","Normal","Other","Normal","Normal","Gear"],[null,null,null,null,null,null,24.99,5.99,99.98999999999999,79.98999999999999,null,null,null,null,65.98999999999999,14.99,null,null,17.99,null,null,24.99,null,14.99,null,null,11.99,null,4.99,null,null,15.99,null,169.99,null,29.99,null,199.99,null,null,null,null,34.99,null,null,null,14.99,null,null,7.99,49.99,null,null,9.99,4.99,4.99,null,null,null,null,89.98999999999999,null,119.99,29.99,59.99,null,null,null,null,1.99,null,3.99,22.99,null,null,7.99,3.99,19.99,7.99,49.99,59.99,79.98999999999999,null,14.99,null,null,null,null,null,null,null,null,null,39.99,null,null,null,69.98999999999999,19.99,5.99],[2,226,10,416,198,23,null,null,112,648,105,9,83,24,null,173,22,27,null,59,null,null,23,213,27,28,null,8,null,432,80,null,169,1456,724,222,44,3128,null,4,82,null,278,60,338,60,null,null,null,14,102,44,140,143,null,28,34,226,75,null,751,16,1170,356,426,20,null,66,32,9,77,null,1,8,243,21,127,17,null,551,553,733,31,113,23,14,7,29,359,null,240,23,36,362,6,20,3,634,183,null],[1,1,1,null,null,null,null,null,4,3,4,1,null,null,null,1,null,null,null,null,null,null,4,null,1,null,null,1,null,null,1,null,null,null,null,4,1,1,null,null,2,null,3,4,28,3,null,null,null,1,2,6,12,null,null,1,3,null,null,null,2,null,6,2,4,2,null,1,null,1,null,null,null,null,null,null,16,2,null,4,5,7,1,1,null,null,1,null,2,null,null,1,24,3,1,1,1,4,3,null],[0,4.1,4,0,3.8,0,0,0,0,0,0,4.4,0,0,0,3.8,0,3.3,0,0,0,0,0,3.8,0,0,0,4,0,0,3.5,0,0,4.3,0,4,0,0,0,0,4.1,0,3.9,0,0,0,0,0,0,4,0,4.4,0,3.9,0,3.5,0,4.2,0,0,4.3,0,4.5,3.6,4.1,0,0,0,3.8,4.1,0,0,0,0,0,3.3,4.2,0,0,4.2,4.4,4.3,0,3.7,0,0,4.2,0,0,0,0,0,0,3.8,3.6,0,3.9,3.7,3.9,0]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>setID<\/th>\n      <th>name<\/th>\n      <th>year<\/th>\n      <th>theme<\/th>\n      <th>themeGroup<\/th>\n      <th>category<\/th>\n      <th>US_retailPrice<\/th>\n      <th>pieces<\/th>\n      <th>minifigs<\/th>\n      <th>rating<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":10,"columnDefs":[{"className":"dt-right","targets":[1,3,7,8,9,10]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"setID","targets":1},{"name":"name","targets":2},{"name":"year","targets":3},{"name":"theme","targets":4},{"name":"themeGroup","targets":5},{"name":"category","targets":6},{"name":"US_retailPrice","targets":7},{"name":"pieces","targets":8},{"name":"minifigs","targets":9},{"name":"rating","targets":10}],"order":[],"autoWidth":false,"orderClasses":false},"selection":{"mode":"multiple","selected":null,"target":"row","selectable":null}},"evals":[],"jsHooks":[]}</script>

]


---
# Data Wrangling Cheat Sheet &lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

.center[
&lt;a href='https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf' target='_new'&gt;&lt;img src='images/data-transformation.png' width='700' /&gt;&lt;/a&gt;
]


---
# Tidyverse vs Base R &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/pipe.png" class="title-hex"&gt;

.center[
&lt;a href='images/R_Syntax_Comparison.jpeg' target='_new'&gt;&lt;img src="images/R_Syntax_Comparison.jpeg" width='700' /&gt;&lt;/a&gt;
]


---
# Pipes `%&gt;%` and `|&gt;` &lt;img src="images/hex/magrittr.png" class="title-hex"&gt;

&lt;img src='images/magrittr_pipe.jpg' align='right' width='200' /&gt;

.font90[
The pipe operator (`%&gt;%`) introduced with the `magrittr` R package allows for the chaining of R operations. Base R has now added their own pipe operator (`|&gt;`). They take the output from the left-hand side and passes it as the first parameter to the function on the right-hand side.
]

.pull-left[
You can do this in two steps:


``` r
tab_out &lt;- table(legosets$category)
prop.table(tab_out)
```

Or as nested function calls.


``` r
prop.table(table(legosets$category))
```
]
.pull-right[
Using the pipe (`|&gt;`) operator we can chain these calls in a what is arguably a more readable format:


``` r
table(legosets$category) |&gt; prop.table()
```
]

&lt;hr /&gt;


```
## 
##        Book  Collection    Extended        Gear      Normal       Other 
## 0.034468546 0.031377196 0.028749549 0.154515946 0.684682364 0.062599825 
##      Random 
## 0.003606574
```

---
# Filter &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

.center[
&lt;img src='images/dplyr_filter_sm.png' width='800' /&gt;
]

---
# Logical Operators

* `!a` - TRUE if a is FALSE
* `a == b` - TRUE if a and be are equal
* `a != b` - TRUE if a and b are not equal
* `a &gt; b` - TRUE if a is larger than b, but not equal
* `a &gt;= b` - TRUE if a is larger or equal to b
* `a &lt; b` - TRUE if a is smaller than be, but not equal
* `a &lt;= b` - TRUE if a is smaller or equal to b
* `a %in% b` - TRUE if a is in b where b is a vector  

``` r
which( letters %in% c('a','e','i','o','u') )
```

```
## [1]  1  5  9 15 21
```
* `a | b` - TRUE if a *or* b are TRUE
* `a &amp; b` - TRUE if a *and* b are TRUE
* `isTRUE(a)` - TRUE if a is TRUE

---
# Filter &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

### `dplyr`


``` r
mylego &lt;- legosets %&gt;% filter(themeGroup == 'Educational' &amp; year &gt; 2015)
```

### Base R


``` r
mylego &lt;- legosets[legosets$themeGroups == 'Educational' &amp; legosets$year &gt; 2015,]
```

&lt;hr /&gt;


``` r
nrow(mylego)
```

```
## [1] 99
```

---
# Select &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

### `dplyr`


``` r
mylego &lt;- mylego %&gt;% select(setID, pieces, theme, availability, US_retailPrice, minifigs)
```

### Base R


``` r
mylego &lt;- mylego[,c('setID', 'pieces', 'theme', 'availability', 'US_retailPrice', 'minifigs')]
```

&lt;hr /&gt;


``` r
head(mylego, n = 4)
```

```
##   setID pieces     theme    availability US_retailPrice minifigs
## 1 26803    103 Education {Not specified}             NA        6
## 2 26689    142 Education {Not specified}             NA        4
## 3 26804     98 Education {Not specified}             NA        6
## 4 26277    188 Education     Educational          94.95       NA
```

---
# Relocate &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

.center[
&lt;img src='images/dplyr_relocate.png' width='800' /&gt;
]

---
# Relocate &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

### `dplyr`


``` r
mylego %&gt;% relocate(where(is.numeric), .after = where(is.character)) %&gt;% head(n = 3)
```

```
##       theme    availability setID pieces US_retailPrice minifigs
## 1 Education {Not specified} 26803    103             NA        6
## 2 Education {Not specified} 26689    142             NA        4
## 3 Education {Not specified} 26804     98             NA        6
```

### Base R


``` r
mylego2 &lt;- mylego[,c('theme', 'availability', 'setID', 'pieces', 'US_retailPrice', 'minifigs')]
head(mylego2, n = 3)
```

```
##       theme    availability setID pieces US_retailPrice minifigs
## 1 Education {Not specified} 26803    103             NA        6
## 2 Education {Not specified} 26689    142             NA        4
## 3 Education {Not specified} 26804     98             NA        6
```


---
# Rename &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

.center[
&lt;img src='images/rename_sm.jpg' width='1000' /&gt;
]

---
# Rename &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

### `dplyr`


``` r
mylego %&gt;% dplyr::rename(USD = US_retailPrice) %&gt;% head(n = 3)
```

```
##   setID pieces     theme    availability USD minifigs
## 1 26803    103 Education {Not specified}  NA        6
## 2 26689    142 Education {Not specified}  NA        4
## 3 26804     98 Education {Not specified}  NA        6
```

### Base R


``` r
names(mylego2)[5] &lt;- 'USD'
head(mylego2, n = 3)
```

```
##       theme    availability setID pieces USD minifigs
## 1 Education {Not specified} 26803    103  NA        6
## 2 Education {Not specified} 26689    142  NA        4
## 3 Education {Not specified} 26804     98  NA        6
```

---
# Mutate &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

.center[
&lt;img src='images/dplyr_mutate.png' width='700' /&gt;
]

---
# Mutate &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

### `dplyr`


``` r
mylego %&gt;% filter(!is.na(pieces) &amp; !is.na(US_retailPrice)) %&gt;% 
	mutate(Price_per_piece = US_retailPrice / pieces) %&gt;% head(n = 3)
```

```
##   setID pieces     theme availability US_retailPrice minifigs Price_per_piece
## 1 26277    188 Education  Educational          94.95       NA       0.5050532
## 2 25949    280 Education  Educational         224.95       NA       0.8033929
## 3 25954      1 Education  Educational          14.95       NA      14.9500000
```

### Base R


``` r
mylego2 &lt;- mylego[!is.na(mylego$US_retailPrice) &amp; !is.na(mylego$Price_per_piece),]
mylego2$Price_per_piece &lt;- mylego2$Price_per_piece / mylego2$US_retailPrice
head(mylego2, n = 3)
```

```
## [1] setID           pieces          theme           availability   
## [5] US_retailPrice  minifigs        Price_per_piece
## &lt;0 rows&gt; (or 0-length row.names)
```


---
# Group By and Summarize &lt;img src="images/hex/tidyverse.png" class="title-hex"&gt;&lt;img src="images/hex/dplyr.png" class="title-hex"&gt;

.code80[

``` r
legosets %&gt;% group_by(themeGroup) %&gt;% summarize(mean_price = mean(US_retailPrice, na.rm = TRUE),
												sd_price = sd(US_retailPrice, na.rm = TRUE),
												median_price = median(US_retailPrice, na.rm = TRUE),
												n = n(),
												missing = sum(is.na(US_retailPrice)))
```

```
## # A tibble: 17 × 6
##    themeGroup       mean_price sd_price median_price     n missing
##    &lt;chr&gt;                 &lt;dbl&gt;    &lt;dbl&gt;        &lt;dbl&gt; &lt;int&gt;   &lt;int&gt;
##  1 Action/Adventure       40.2     38.9         30.0  1474     779
##  2 Art and crafts         34.9     47.7         17.5    97       9
##  3 Basic                  21.6     19.2         15.0   873     733
##  4 Constraction           16.4     12.4         13.0   502     284
##  5 Educational           182.     188.         130.    503     465
##  6 Girls                  35.8     24.0         23.0   240     227
##  7 Historical             34.2     32.4         20.0   473     400
##  8 Junior                 22.0     10.1         20.0   228     165
##  9 Licensed               53.3     71.7         30.0  2775    1066
## 10 Miscellaneous          20.7     29.2         13.0  6253    3961
## 11 Model making           74.3     92.1         40.0   771     384
## 12 Modern day             38.2     35.6         30.0  2469    1535
## 13 Pre-school             30.8     22.7         25.0  1562    1103
## 14 Racing                 26.8     26.5         15.0   270     176
## 15 Technical              82.8     95.3         50.0   607     327
## 16 Vintage               NaN       NA           NA     306     306
## 17 &lt;NA&gt;                  NaN       NA           NA       6       6
```
]

---
# Describe and Describe By


``` r
library(psych)
describe(legosets$US_retailPrice)
```

```
##    vars    n  mean   sd median trimmed   mad  min    max range skew kurtosis
## X1    1 7483 38.96 56.5  19.99    27.7 17.79 1.49 849.99 848.5 5.32    44.74
##      se
## X1 0.65
```




``` r
describeBy(legosets$US_retailPrice, group = legosets$availability, mat = TRUE, skew = FALSE)
```

```
##      item                group1 vars    n      mean        sd median   min    max range         se
## X11     1       {Not specified}    1 1831  26.84733  39.96747  19.99  1.49 789.99 788.5  0.9340335
## X12     2           Educational    1   12 212.86667 105.88283 222.45 14.95 399.95 385.0 30.5657410
## X13     3        LEGO exclusive    1 1039  57.21203 106.63125  12.99  1.99 849.99 848.0  3.3080857
## X14     4    LEGOLAND exclusive    1    2   4.99000   0.00000   4.99  4.99   4.99   0.0  0.0000000
## X15     5              Not sold    1    1  12.99000        NA  12.99 12.99  12.99   0.0         NA
## X16     6           Promotional    1    5   4.79000   0.83666   4.99  3.99   5.99   2.0  0.3741657
## X17     7 Promotional (Airline)    1    0       NaN        NA     NA   Inf   -Inf  -Inf         NA
## X18     8                Retail    1 4290  37.55889  38.44918  24.99  1.99 699.99 698.0  0.5870275
## X19     9      Retail - limited    1  302  63.54381  70.91908  39.99  2.49 449.99 447.5  4.0809343
## X110   10               Unknown    1    1   3.99000        NA   3.99  3.99   3.99   0.0         NA
```


---
# Additional Resources

For data wrangling:

* `dplyr` website: https://dplyr.tidyverse.org
* R for Data Science book: https://r4ds.had.co.nz/wrangle-intro.html
* Wrangling penguins tutorial: https://allisonhorst.shinyapps.io/dplyr-learnr/#section-welcome
* Data transformation cheat sheet: https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf


---
class: middle
# Grammer of Graphics

.center[
&lt;img src="images/ggplot2_masterpiece.png" height="550" /&gt;
]

---
# Data Visualizations with ggplot2 &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;

* `ggplot2` is an R package that provides an alternative framework based upon Wilkinson’s (2005) Grammar of Graphics.

* `ggplot2` is, in general, more flexible for creating "prettier" and complex plots.

* Works by creating layers of different types of objects/geometries (i.e. bars, points, lines, polygons, etc.)
`ggplot2` has at least three ways of creating plots:
     1. `qplot`
     2. `ggplot(...) + geom_XXX(...) + ...`
     3. `ggplot(...) + layer(...)`

* We will focus only on the second.


---
# Parts of a `ggplot2` Statement &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;

* Data  
`ggplot(myDataFrame, aes(x=x, y=y))`

* Layers  
`geom_point()`, `geom_histogram()`

* Facets  
`facet_wrap(~ cut)`, `facet_grid(~ cut)`

* Scales  
`scale_y_log10()`

* Other options  
`ggtitle('my title')`, `ylim(c(0, 10000))`, `xlab('x-axis label')`

---
# Lots of geoms &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ls('package:ggplot2')[grep('^geom_', ls('package:ggplot2'))]
```

```
##  [1] "geom_abline"            "geom_area"              "geom_bar"               "geom_bin_2d"           
##  [5] "geom_bin2d"             "geom_blank"             "geom_boxplot"           "geom_col"              
##  [9] "geom_contour"           "geom_contour_filled"    "geom_count"             "geom_crossbar"         
## [13] "geom_curve"             "geom_density"           "geom_density_2d"        "geom_density_2d_filled"
## [17] "geom_density2d"         "geom_density2d_filled"  "geom_dotplot"           "geom_errorbar"         
## [21] "geom_errorbarh"         "geom_freqpoly"          "geom_function"          "geom_hex"              
## [25] "geom_histogram"         "geom_hline"             "geom_jitter"            "geom_label"            
## [29] "geom_line"              "geom_linerange"         "geom_map"               "geom_path"             
## [33] "geom_point"             "geom_pointrange"        "geom_polygon"           "geom_qq"               
## [37] "geom_qq_line"           "geom_quantile"          "geom_raster"            "geom_rect"             
## [41] "geom_ribbon"            "geom_rug"               "geom_segment"           "geom_sf"               
## [45] "geom_sf_label"          "geom_sf_text"           "geom_smooth"            "geom_spoke"            
## [49] "geom_step"              "geom_text"              "geom_tile"              "geom_violin"           
## [53] "geom_vline"
```

---
# Data Visualization Cheat Sheet &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;

.center[
&lt;a href='https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf'&gt;&lt;img src='images/data-visualization-2.1.png' width='700' /&gt;&lt;/a&gt;
]


---
# Scatterplot  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x=pieces, y=US_retailPrice)) + geom_point()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-35-1.png" style="display: block; margin: auto;" /&gt;

---
# Scatterplot (cont.)  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x=pieces, y=US_retailPrice, color=availability)) + geom_point()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-36-1.png" style="display: block; margin: auto;" /&gt;

---
# Scatterplot (cont.)  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x=pieces, y=US_retailPrice, size=minifigs, color=availability)) + geom_point()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-37-1.png" style="display: block; margin: auto;" /&gt;

---
# Scatterplot (cont.)  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x=pieces, y=US_retailPrice, size=minifigs)) + geom_point() + facet_wrap(~ availability)
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-38-1.png" style="display: block; margin: auto;" /&gt;

---
# Boxplots  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x='Lego', y=US_retailPrice)) + geom_boxplot()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-39-1.png" style="display: block; margin: auto;" /&gt;

---
# Boxplots (cont.)  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x=availability, y=US_retailPrice)) + geom_boxplot()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-40-1.png" style="display: block; margin: auto;" /&gt;

---
# Boxplot (cont.)  &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x=availability, y=US_retailPrice)) + geom_boxplot() + coord_flip()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-41-1.png" style="display: block; margin: auto;" /&gt;

---
# Histograms &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x = US_retailPrice)) + geom_histogram(binwidth = 25)
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-42-1.png" style="display: block; margin: auto;" /&gt;

---
# Histograms (cont.)&lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x = US_retailPrice)) + geom_histogram(bins = 15) + scale_x_log10()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-43-1.png" style="display: block; margin: auto;" /&gt;

---
# Histograms (cont.) &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x = US_retailPrice)) + geom_histogram(binwidth = 25) + facet_wrap(~ availability)
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-44-1.png" style="display: block; margin: auto;" /&gt;

---
# Density Plots &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x = US_retailPrice, color = availability)) + geom_density()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-45-1.png" style="display: block; margin: auto;" /&gt;

---
# Density Plots (cont.) &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;


``` r
ggplot(legosets, aes(x = US_retailPrice, color = availability)) + geom_density() + scale_x_log10()
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-46-1.png" style="display: block; margin: auto;" /&gt;

---
# `ggplot2` aesthetics &lt;img src="images/hex/ggplot2.png" class="title-hex"&gt;

.center[
&lt;a href='images/ggplot_aesthetics_cheatsheet.png' target='_new'&gt; &lt;img src='images/ggplot_aesthetics_cheatsheet.png' height='550' /&gt;&lt;/a&gt;
]

---
# Likert Scales &lt;img src="images/hex/likert.png" class="title-hex"&gt;

Likert scales are a type of questionnaire where respondents are asked to rate items on scales usually ranging from four to seven levels (e.g. strongly disagree to strongly agree).


``` r
library(likert)
library(reshape)
data(pisaitems)
items24 &lt;- pisaitems[,substr(names(pisaitems), 1,5) == 'ST24Q']
items24 &lt;- rename(items24, c(
			ST24Q01="I read only if I have to.",
			ST24Q02="Reading is one of my favorite hobbies.",
			ST24Q03="I like talking about books with other people.",
			ST24Q04="I find it hard to finish books.",
			ST24Q05="I feel happy if I receive a book as a present.",
			ST24Q06="For me, reading is a waste of time.",
			ST24Q07="I enjoy going to a bookstore or a library.",
			ST24Q08="I read only to get information that I need.",
			ST24Q09="I cannot sit still and read for more than a few minutes.",
			ST24Q10="I like to express my opinions about books I have read.",
			ST24Q11="I like to exchange books with my friends."))
```

---
# `likert` R Package &lt;img src="images/hex/likert.png" class="title-hex"&gt;


``` r
l24 &lt;- likert(items24)
summary(l24)
```

```
##                                                        Item      low neutral     high     mean        sd
## 10   I like to express my opinions about books I have read. 41.07516       0 58.92484 2.604913 0.9009968
## 5            I feel happy if I receive a book as a present. 46.93475       0 53.06525 2.466751 0.9446590
## 8               I read only to get information that I need. 50.39874       0 49.60126 2.484616 0.9089688
## 7                I enjoy going to a bookstore or a library. 51.21231       0 48.78769 2.428508 0.9164136
## 3             I like talking about books with other people. 54.99129       0 45.00871 2.328049 0.9090326
## 11                I like to exchange books with my friends. 55.54115       0 44.45885 2.343193 0.9609234
## 2                    Reading is one of my favorite hobbies. 56.64470       0 43.35530 2.344530 0.9277495
## 1                                 I read only if I have to. 58.72868       0 41.27132 2.291811 0.9369023
## 4                           I find it hard to finish books. 65.35125       0 34.64875 2.178299 0.8991628
## 9  I cannot sit still and read for more than a few minutes. 76.24524       0 23.75476 1.974736 0.8793028
## 6                       For me, reading is a waste of time. 82.88729       0 17.11271 1.810093 0.8611554
```

---
# `likert` Plots  &lt;img src="images/hex/likert.png" class="title-hex"&gt;


``` r
plot(l24)
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-49-1.png" style="display: block; margin: auto;" /&gt;

---
# `likert` Plots  &lt;img src="images/hex/likert.png" class="title-hex"&gt;


``` r
plot(l24, type='heat')
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-50-1.png" style="display: block; margin: auto;" /&gt;

---
# `likert` Plots  &lt;img src="images/hex/likert.png" class="title-hex"&gt;


``` r
plot(l24, type='density')
```

&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-51-1.png" style="display: block; margin: auto;" /&gt;


---
# Pie Charts

There is only one pie chart in *OpenIntro Statistics* (Diez, Barr, &amp; Çetinkaya-Rundel, 2015, p. 48). Consider the following three pie charts that represent the preference of five different colors. Is there a difference between the three pie charts? This is probably a difficult to answer.

&lt;center&gt;&lt;img src='images/Pie.png' width='500'&gt;&lt;/center&gt;


---
# Pie Charts

There is only one pie chart in *OpenIntro Statistics* (Diez, Barr, &amp; Çetinkaya-Rundel, 2015, p. 48). Consider the following three pie charts that represent the preference of five different colors. Is there a difference between the three pie charts? This is probably a difficult to answer.

&lt;center&gt;&lt;img src='images/Pie.png' width='500'&gt;&lt;/center&gt;

&lt;center&gt;&lt;img src='images/Bar.png' width='500'&gt;&lt;/center&gt;

Source: [https://en.wikipedia.org/wiki/Pie_chart](https://en.wikipedia.org/wiki/Pie_chart).

---
class: middle
# Just say NO to pie charts!

.font150[
"There is no data that can be displayed in a pie chart that cannot better be displayed in some other type of chart"]
.right[.font130[John Tukey]]

---
# Additional Resources

For data wrangling:

* `dplyr` website: https://dplyr.tidyverse.org
* R for Data Science book: https://r4ds.had.co.nz/wrangle-intro.html
* Wrangling penguins tutorial: https://allisonhorst.shinyapps.io/dplyr-learnr/#section-welcome
* Data transformation cheat sheet: https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf

For data visualization:

* `ggplot2` website: https://ggplot2.tidyverse.org
* R for Data Science book: https://r4ds.had.co.nz/data-visualisation.html
* R Graphics Cookbook: https://r-graphics.org
* Data visualization cheat sheet: https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf


---
class: left, font140
# One Minute Paper

.pull-left[
1. What was the most important thing you learned during this class?
2. What important question remains unanswered for you?
]
.pull-right[
&lt;img src="02-Summarizing_Data_files/figure-html/unnamed-chunk-52-1.png" style="display: block; margin: auto;" /&gt;
]

https://forms.gle/sTwKB3HivjtbafBb7
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "solarized-light",
"highlightLanguage": "R",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9",
"navigation": {
"scroll": false
}
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
